<div class="pb-5 k">
  <app-navbar></app-navbar>
  <h1 class="head">Rezerwacja</h1>
  <form [formGroup]="eventForm" (ngSubmit)="onSubmit()">
    <div class="container pb-3">
      <div class="row justify-content-center">
        <div class="card pb-5 pt-3">
          <div class="header_card pb-4">
            <h3 class="card-title text-center">Opcje</h3>
          </div>
          <div class="container">
            <div class="form-group row justify-content-center pb-2 pl-4 pl-sm-0">
              <label class="col-sm-3 col-form-label">Opcje:</label>
              <div class="col-sm-6">
                <div class="row select-wrapper">
                  <select (click)="Option()" formControlName="type" [formControl]="eventForm.get('type')"
                    class="form-control col-10 custom_radius" name="type">
                    <option value="Wycieczka farma dyń">Wycieczka farma dyń</option>
                    <option value="Wycieczka farma dyń z jedzeniem">Wycieczka farma dyń z jedzeniem</option>
                    <option value="Urodziny">Urodziny</option>
                  </select>
                </div>
              </div>
            </div>
            <div class="form-group row justify-content-center pb-2 pl-4 pl-sm-0">
              <label class="col-sm-3 col-form-label">Wybierz dzień:</label>
              <div class="col-sm-6">
                <div class="row">
                  <input class="form-control col-8 custom_input" formControlName="date"
                    [formControl]="eventForm.get('date')" 
                    [minDate]="minDate" [markDisabled]="markDisabled" placeholder="dd-mm-yyyy" name="dp"
                    ngbDatepicker #d="ngbDatepicker">
                  <button class="btn custom_btn btn-outline-secondary col-2" (click)="d.toggle()" type="button">
                    <img class="image" src="https://image.flaticon.com/icons/svg/833/833593.svg" alt=""></button>
                </div>

              </div>

            </div>
            <div class="form-group row justify-content-center pb-2 pl-4 pl-sm-0">
              <label class="col-sm-3 col-form-label pb-3 pb-sm-0">Wybierz godzinę:</label>
              <div class="col-sm-6">
                <div class="row">
                  <div class="form-check form-check-inline">
                    <input class="" formControlName="time" [formControl]="eventForm.get('time')" name="time"
                      type="radio" value="9:15">
                    <label class="form-check-label">&nbsp;9:15</label>
                  </div>
                  <div class="form-check form-check-inline pl-5">
                    <input class="" formControlName="time" [formControl]="eventForm.get('time')" name="time"
                      type="radio" value="10:15">
                    <label class="form-check-label">&nbsp;10:15</label>
                  </div>
                </div>
              </div>

            </div>
            <div class="form-group row justify-content-center pl-4 pl-sm-0">
              <label class="col-sm-3 col-form-label pb-3 pb-sm-0">Ilość dzieci:</label>

              <div class="col-sm-6 p-0">
                <input class="color" type="button" (click)="Minus()" id="minus" value="-">
                {{counter}}
                <input class="color" type="button" (click)="Plus()" id="plus" value="+">
              </div>
            </div>
          </div>
        </div>
      </div>
      <div class="row justify-content-center">
        <div class="card pb-5 pt-3">
          <div class="header_card pb-4">
            <h3 class="card-title text-center">Dane kontaktowe</h3>
          </div>
          <div class="form-group row justify-content-center pb-2 pl-4 pl-sm-0 pr-4 pr-sm-0">
            <label class="col-sm-3 col-form-label">Imię lub Nazwa placówki:</label>
            <div class="col-sm-6">
              <div class="row select-wrapper">
                <input class="form-control" type="text" formControlName="firstName"
                  [formControl]="eventForm.get('firstName')"
                  [ngClass]="{ 'is-invalid': eventForm.controls.firstName.touched && eventForm.controls.firstName.errors }">
                <div [hidden]="!eventForm.controls.firstName.errors?.required" class="invalid-feedback">
                  Imię jest wymagane
                </div>
              </div>

            </div>
          </div>
          <div class="form-group row justify-content-center pb-2 pl-4 pl-sm-0 pr-4 pr-sm-0">
            <label class="col-sm-3 col-form-label">Nazwisko:</label>
            <div class="col-sm-6">
              <div class="row select-wrapper">
                <input class="form-control" [formControl]="eventForm.get('lastName')"
                  [ngClass]="{ 'is-invalid': eventForm.controls.lastName.touched && eventForm.controls.lastName.errors }"
                  name="lastName" type="text" formControlName="lastName">
                <div [hidden]="!eventForm.controls.lastName.errors?.required" class="invalid-feedback">
                  Nazwisko jest wymagane
                </div>
              </div>
            </div>
          </div>
          <div class="form-group row justify-content-center pb-2 pl-4 pl-sm-0 pr-4 pr-sm-0">
            <label class="col-sm-3 col-form-label">Telefon kontaktowy:</label>
            <div class="col-sm-6">
              <div class="row select-wrapper">
                <input class="form-control" [formControl]="eventForm.get('phone')"
                  [ngClass]="{ 'is-invalid': eventForm.controls.phone.touched && eventForm.controls.phone.errors }"
                  type="text" formControlName="phone" name="Phone">
                <div [hidden]="!eventForm.controls.phone.errors?.required" class="invalid-feedback">
                  Telefon kontaktowy jest wymagany
                </div>
              </div>
            </div>
          </div>
          <div class="form-group row justify-content-center pb-2 pl-4 pl-sm-0 pr-4 pr-sm-0">
            <label class="col-sm-3 col-form-label">Email:</label>
            <div class="col-sm-6">
              <div class="row select-wrapper">
                <input class="form-control" [formControl]="eventForm.get('email')"
                  [ngClass]="{ 'is-invalid': eventForm.controls.email.touched && eventForm.controls.email.errors }"
                  type="email" formControlName="email" name="email">
                <div [hidden]="!eventForm.controls.email.touched?.required" class="invalid-feedback">
                  Email jest wymagany
                </div>
                <div [hidden]="!eventForm.controls.email.errors?.required" class="invalid-feedback">
                  Email jest nie poprawny
                </div>
              </div>
            </div>
          </div>
        </div>
      </div>
    </div>
    <button class="button_submit" [ngClass]="{'but-cus':!eventForm.valid}" [disabled]="!eventForm.valid" type="submit"
      value="Rezerwacja">Rezerwacja</button>
  </form>
  <div *ngIf="showMoneyCounter" class="moneyCounter">Razem do zaplaty:&nbsp;{{moneyCounter}}&nbsp;zł</div>
</div>
